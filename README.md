# LangChainThon
[모두의 연구소 데이터 사이언티스트 4기 랭체인톤] 소상공인과 개인사업자를 위한 부가가치세 Q&A 자동응답 챗봇
> 세봇이는 소상공인과 개인사업자가 부가가치세를 이해하고 스스로 신고할 수 있도록 돕는 챗봇입니다.  
> 국세청 문서를 기반으로, 복잡한 세법을 사용자 상황에 맞게 쉽게 설명하며,  
> 엑셀 업로드 기능을 통해 예상 납부세액까지 도와줍니다.

## 개요

<img src="./docs/images/세봇이_로고.png" alt="세봇이" width="200"/>

🤖 [세봇이](https://langchainthon-hav53z6sqkruvt2mzvesx4.streamlit.app/)

**세봇이**는 프리랜서·자영업자가  
“내 상황에 어떤 세법이 적용되는지 모르겠어요”라는 고민을 해결하기 위해 만든  
**부가가치세 Q&A 챗봇**

- 세무사 없이 혼자 신고하거나, 지식 없이 대리로 맡기는 경우가 많고  
- 단순 요약이 아닌 **상황에 맞는 세법 해석**이 필요

**RAG(Retrieval-Augmented Generation)** 구조를 통해  
- 국세청 공식 자료 기반  
- GPT 환각 방지  
- 용어 해설부터 신고 기준까지 **정확하고 신뢰할 수 있는 안내**를 제공

## 파일 구조

```
LangChainThon/
├── 🗂️ data/ # 데이터 저장 폴더
├── 🗂️ docs/ # 문서 및 참고 자료
│ └── 성능_검증용_질문_10가지.pdf # 챗봇 응답 평가용 기준 질문 PDF
├── README.md # 프로젝트 개요 및 사용법
├── packages.txt # 설치된 패키지 목록
├── requirements.txt # 실행에 필요한 Python 패키지 목록
└── 🧾 sebot_final.py # 세봇이 
```

## 주요 기능

- 국세청 문서 기반의 조항 설명 및 세무 개념 안내
- 상황별 자연어 질문에 대한 RAG 기반 응답
- 부가가치세 중심 (일반/간이과세자 구분, 공제 가능 여부, 신고 대상 등)
- Streamlit 기반 간편 UI 제공


## 사용 예시

> 💬 “나는 임대업을 하고 있어. 간이과세자이긴 한데, 세금계산서 안 끊으면 가산세 있어??”

→ 📖 
```
간이과세자의 경우, 세금계산서를 발급하지 않으면 가산세가 부과됩니다. 구체적으로는 다음과 같습니다:
세금계산서 미발급 가산세: 공급가액의 2%가 가산세로 부과됩니다.
  
따라서, 임대업을 하시는 간이과세자라면 세금계산서를 발급하지 않은 경우 가산세가 발생할 수 있으니,
가능한 한 빨리 세금계산서를 발급하고 신고를 진행하는 것이 좋습니다.
추가로 궁금한 점이 있으면 언제든지 말씀해 주세요!
```

## 특징

### 엑셀 기반 세금계산서 정리 기능
사용자가 직접 정리한 **세금계산서 엑셀 파일(CSV/XLSX)** 을 업로드하면,
챗봇이 날짜별·공급자별로 거래 내역을 분류하고,
공제 가능한 매입세액 총합과 합계표를 자동 계산함.

- 예상 납부세액 추정 기능까지 연계 가능

## 기술 스택 

| 구성 | 기술 |
|------|------|
| LLM | OpenAI GPT-4o |
| AI | LangChain Agents |
| 임베딩/검색 | OpenAI text-embedding-3-small / ChromaDB |
| 에이전트 도구 | 문서검색 RetrieverTool / 계산기 Calculator Tool / 웹검색 Tavily Search |
| UI | Streamlit |
| 문서 출처 | 국세청 공식 가이드북, FAQ등 |

## 챗봇 검증 방법

부가가치세 관련 질문에 대해 얼마나 정확하고 타당한 답변을 제공하는지를 평가하기 위해, 표준 질문 리스트와 점수 기반 평가 지표를 구성하였음

- 각 질문에 대해 정확성을 고려해 기준 점수 (0~10점) 부여
- 챗봇이 해당 질문에 대해 얼마나 정확하게 답했는지를 기준으로 Gemini를 활용하여 자동으로 채점
- 총점 기준으로 챗봇 응답 품질을 수치화하여 평가

|  | 질문  | 점수 |
| --- | --- | --- |
| 1 | 2025년 제1기 확정 부가가치세 신고 및 납부 기한은 언제까지인가요? | 10 |
| 2 | 저는 작년 매출액이 7,000만원인 간이과세자입니다. 올해 부가세 납부 의무가 면제되나요? | 5 |
| 3 | 사업용으로 승용차를 구매했는데, 매입세액공제를 받을 수 있나요? 차량은 5인승이고 1500cc입니다. | 10 |
| 4 | 해외에 직접 소프트웨어를 수출하고 외화를 받았습니다. 이때 부가세 세율은 어떻게 적용되나요? | 10 |
| 5 | 개인사업자인데, 작년 공급가액이 2억 원이었습니다. 올해부터 전자세금계산서를 의무적으로 발급해야 하나요? | 10 |
| 6 | 부가세 신고를 기한 내에 하지 못하면 어떤 불이익이 있나요? 구체적인 가산세 종류를 알려주세요. | 8 |
| 7 | 서점에서 책을 판매하고 있습니다. 부가가치세 면세 대상인가요? | 10 |
| 8 | 식당을 운영하는 개인사업자입니다. 농민에게 직접 면세 농산물을 사왔는데, 매입세액공제를 받을 수 있는 방법이 있나요? | 10 |
| 9 | 2024년과 비교해서 2025년에 간이과세자 기준에 변경된 점이 있나요? | 0 |
| 10 | 그럼 그 공제를 받으려면 어떤 서류가 필요한가요? | 10 |
| 총 |  | 83 | 

> 챗봇은 대부분의 주요 질문에 대해 정확하고 실무적인 응답을 제공했으며, 실제 사용자가 접할 가능성이 높은 항목에서는 강한 퍼포먼스를 보였다. 다만, 최신 개정 반영 여부와 예외조건 설명력은 지속적인 보완이 필요하다.

## 향후 발전 방향

### 1. 사용자 접근성 강화
- 음성 인식·고령층 친화 UI 도입으로 사용 대상 확대
  - 디지털 취약 계층도 쉽게 활용 가능

### 2. 실무 지원 기능 추가
- 가산세 계산기, 신고 일정 알림, 홈택스 사용법 안내 등 실질적 도구 추가
  - 단순 Q&A를 넘어 실질적인 업무 보조 도구로 진화

### 3. 세목 확장
- 세봇이 : 부가가치세 전용 챗봇
  - 종합소득세, 근로·자녀장려금, 연말정산 등으로 확장 가능

>**소규모 사업자를 위한 종합 세무지원 챗봇으로 발전 가능**

## Ref

### 코드 뼈대
- [이토록 쉬운 RAG 시스템 구축을 위한 랭체인 실전 가이드](https://www.yes24.com/product/goods/136548871)

### 데이터셋 
- [[국세청] 부가가치세 신고 안내 매뉴얼](https://www.nts.go.kr/nts/na/ntt/selectNttList.do?mi=2409&bbsId=30008)
- [[국세청] 부가가치세 주요해석사례](https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?mi=9623&cntntsId=8249)
- [마일스톤](https://milestoneguide.oopy.io/e5ee3a8c-7373-46fd-9c64-703053bcca6c)
- [Jobis](https://help.jobis.co/hc/ko/articles/8942135736857--%EB%B6%80%EA%B0%80%EA%B0%80%EC%B9%98%EC%84%B8-%EC%8B%A0%EA%B3%A0%EA%B0%80-%EC%9E%98%EB%AA%BB%EB%90%90%EB%8B%A4%EB%A9%B4-%EC%88%98%EC%A0%95%EC%8B%A0%EA%B3%A0vs%EA%B2%BD%EC%A0%95%EC%B2%AD%EA%B5%AC)
- [SAMIL](https://www.samili.com/opt/Sangdam/NtsSangdamView.asp?backFlag=True&div_cate=smb&idx_no=214336&method=content&op=2&op2=5&page=38&sd_cate=sa3&searchword=&selsemok=%EC%A0%84%EC%B2%B4&)
- [세무이슈와 업종별 세무회계 가이드](https://blog.guide.taxmedicenter.com/333)

